{"ast":null,"code":"var _jsxFileName = \"/Users/Neo/Thinkful/qualified/Project_Pomodoro_Timer_Qualified_1/src/pomodoro/Pomodoro.js\";\nimport React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport { minutesToDuration } from '../utils/duration'; //import {secondsToDuration} from '../utils/duration';\n\nimport AfterPlay from './AfterPlay';\nimport LandingDisplay from './LandingDisplay';\n\nfunction Pomodoro() {\n  let initialState = {\n    focusTimer: 25,\n    breakTimer: 5,\n    label: \"Focusing\",\n    counter: 0,\n    displayTimer: false,\n    isTimerRunning: false,\n    countDownVar: 0,\n    displayClickCounter: 0\n  };\n  let [data, setData] = useState({ ...initialState\n  }); //console.log('DATA OBJ', data);\n\n  useInterval(() => {\n    timer();\n  }, data.isTimerRunning ? 1000 : null);\n\n  function timer() {\n    if (data.countDownVar > 0) {\n      setData({\n        [data.countDownVar]: data.countDownVar -= 1,\n        [data.counter]: data.counter += 1\n      }); //console.log(data.ariaCounter)\n\n      return setData({ ...data\n      });\n    }\n\n    if (data.countDownVar === 0 && data.label === \"Focusing\") {\n      new Audio(`${process.env.PUBLIC_URL}/alarm/piece-of-cake-611.mp3`).play();\n      setData({\n        [data.countDownVar]: data.countDownVar = data.breakTimer * 60,\n        [data.label]: data.label = \"On Break\",\n        [data.counter]: data.counter = 0\n      });\n      return setData({ ...data\n      });\n    }\n\n    if (data.countDownVar === 0 && data.label === \"On Break\") {\n      new Audio(`${process.env.PUBLIC_URL}/alarm/piece-of-cake-611.mp3`).play();\n      setData({\n        [data.countDownVar]: data.countDownVar = data.focusTimer * 60,\n        [data.label]: data.label = \"Focusing\",\n        [data.counter]: data.counter = 0\n      });\n      return setData({ ...data\n      });\n    }\n  }\n\n  function playPause() {\n    setData({\n      [data.displayTimer]: data.displayTimer = true,\n      [data.istimerRunning]: data.isTimerRunning = !data.isTimerRunning,\n      [data.displayClickCounter]: data.displayClickCounter += 1\n    }); //setData({...data});\n\n    if (data.displayClickCounter === 1) {\n      setData({\n        [data.countDownVar]: data.countDownVar = data.focusTimer * 60\n      });\n      return setData({ ...data\n      });\n    }\n\n    return setData({ ...data\n    });\n  }\n\n  function stopHandler() {\n    playPause();\n    setData({ ...initialState\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pomodoro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LandingDisplay, {\n    data: data,\n    stopHandler: stopHandler,\n    playPause: playPause,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(AfterPlay, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Pomodoro;","map":{"version":3,"sources":["/Users/Neo/Thinkful/qualified/Project_Pomodoro_Timer_Qualified_1/src/pomodoro/Pomodoro.js"],"names":["React","useState","classNames","useInterval","minutesToDuration","AfterPlay","LandingDisplay","Pomodoro","initialState","focusTimer","breakTimer","label","counter","displayTimer","isTimerRunning","countDownVar","displayClickCounter","data","setData","timer","Audio","process","env","PUBLIC_URL","play","playPause","istimerRunning","stopHandler"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport {minutesToDuration} from '../utils/duration';\n//import {secondsToDuration} from '../utils/duration';\nimport AfterPlay from './AfterPlay'\nimport LandingDisplay from './LandingDisplay'\n\n\n\nfunction Pomodoro() {\n\n  let initialState={\n    focusTimer: 25,\n    breakTimer: 5,\n    label: \"Focusing\",\n    counter: 0,\n    displayTimer: false,\n    isTimerRunning:false,\n    countDownVar: 0,\n    displayClickCounter: 0,\n  }\n\n  \n  let [data, setData] = useState({...initialState});\n\n  //console.log('DATA OBJ', data);\n\n  useInterval(\n    () => {\n      timer()\n    },\n    data.isTimerRunning ? 1000 : null\n  );\n  \n  \n  function timer(){\n    if(data.countDownVar>0){\n      setData({\n      [data.countDownVar]: data.countDownVar-=1,\n      [data.counter]: data.counter+=1\n      });\n      //console.log(data.ariaCounter)\n      return setData({...data});\n    }\n    if(data.countDownVar===0 && data.label===\"Focusing\"){\n      new Audio(`${process.env.PUBLIC_URL}/alarm/piece-of-cake-611.mp3`).play();\n      setData({\n        [data.countDownVar]: data.countDownVar = data.breakTimer*60,\n        [data.label]: data.label = \"On Break\",\n        [data.counter]: data.counter=0,\n      });\n      return setData({...data});\n    }\n    if(data.countDownVar===0 && data.label===\"On Break\"){\n      new Audio(`${process.env.PUBLIC_URL}/alarm/piece-of-cake-611.mp3`).play();\n      setData({\n        [data.countDownVar]: data.countDownVar = data.focusTimer*60,\n        [data.label]: data.label = \"Focusing\",\n        [data.counter]: data.counter=0,\n      });\n        return setData({...data});\n    }\n  }\n\n  function playPause() {\n    setData({\n      [data.displayTimer]: data.displayTimer = true, \n      [data.istimerRunning]: data.isTimerRunning = !data.isTimerRunning,\n      [data.displayClickCounter]: data.displayClickCounter+=1\n    })\n    //setData({...data});\n    if(data.displayClickCounter===1){\n      setData({\n        [data.countDownVar]: data.countDownVar = data.focusTimer*60,\n      });\n      return setData({...data})\n    }\n    return setData({...data})\n  }\n\n  function stopHandler(){\n    playPause();\n    setData({...initialState});\n  }\n\n  return (\n    <div className=\"pomodoro\">\n\n      {/* <div className=\"row\">\n        <div className=\"col\">\n          <div className=\"input-group input-group-lg mb-2\">\n            <span className=\"input-group-text\" data-testid=\"duration-focus\">\n              Focus Duration: {minutesToDuration(data.focusTimer)}\n            </span>\n            <div className=\"input-group-append\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-testid=\"decrease-focus\"\n                onClick={\n                  () =>{data.focusTimer >6 ? setData({[data.focusTimer]: data.focusTimer-=5}) \n                  : alert('The minimum focus timer allowed is 5 minutes'); \n                  setData({...data})}}\n                disabled={data.displayTimer ? true : false}\n              >\n                <span className=\"oi oi-minus\" id=\"focus-decrease\"/>\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-testid=\"increase-focus\"\n                onClick={\n                  () => {data.focusTimer <=59 ? setData({[data.focusTimer]: data.focusTimer+=5}) \n                  : alert('The maximum focus timer allowed is 60 minutes'); \n                  setData({...data})}}\n                disabled={data.displayTimer ? true : false}\n              >\n                <span className=\"oi oi-plus\" id=\"focus-increase\"/>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"col\">\n          <div className=\"float-right\">\n            <div className=\"input-group input-group-lg mb-2\">\n              <span className=\"input-group-text\" data-testid=\"duration-break\">\n                Break Duration: {minutesToDuration(data.breakTimer)}\n              </span>\n              <div className=\"input-group-append\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  data-testid=\"decrease-break\"\n                  onClick={\n                    () =>{ data.breakTimer >= 2 ?  setData({[data.breakTimer]: data.breakTimer-=1}) \n                    : alert('The minimum break timer allowed is 1 minute'); \n                    setData({...data})}}\n                  disabled={data.displayTimer ? true : false}\n                >\n                  <span className=\"oi oi-minus\" id=\"break-decrease\"/>\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  data-testid=\"increase-break\"\n                  onClick={() =>{ \n                    data.breakTimer <= 14 ? setData({[data.breakTimer]: data.breakTimer+=1}) \n                    : alert('The maximum break timer allowed is 15 minutes'); \n                    setData({...data})}}\n                  disabled={data.displayTimer ? true : false}\n                >\n                  <span className=\"oi oi-plus\" id=\"break-increase\"/>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col\">\n          <div\n            className=\"btn-group btn-group-lg mb-2\"\n            role=\"group\"\n            aria-label=\"Timer controls\"\n          >\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              data-testid=\"play-pause\"\n              title=\"Start or pause timer\"\n              onClick={playPause}\n            >\n              <span\n                className={classNames({\n                  oi: true,\n                  \"oi-media-play\": !data.isTimerRunning,\n                  \"oi-media-pause\": data.isTimerRunning,\n                })}\n              />\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              title=\"Stop the session\"\n              onClick={stopHandler}\n              disabled={!data.isTimerRunning ? true: false}\n            >\n              <span className=\"oi oi-media-stop\" />\n            </button>\n          </div>\n        </div>\n      </div> */}\n      <LandingDisplay \n        data={data} \n        stopHandler={stopHandler} \n        playPause={playPause}\n      />\n      <AfterPlay data={data} />\n    </div>\n  );\n}\n\nexport default Pomodoro;\n"]},"metadata":{},"sourceType":"module"}